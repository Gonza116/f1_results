<!DOCTYPE html>
<html>
<body>
  {% for key, race in results.items() %}
    <h1>{{ race[0]["raceName"] }}</h1>
    <h3>Data:</h3>
      <ul>
          <li><u>Date:</u> {{ race[0]["date"] }}</li>       
          <li><u>Circuit:</u> {{ race[0]["Circuit"]["circuitName"] }}</li>
          <li><u>Location:</u> {{ race[0]["Circuit"]["Location"]["locality"] }} ({{ race[0]["Circuit"]["Location"]["country"] }})</li>
      </ul>
    <h3>Result:</h3>
      <table>
          <tr>
              <th>Pos.</th>
              <th>Driver</th>
              <th>Constructor</th>
              <th>Time</th>
              <th>Fastest Lap</th>
              <th>Grid</th>
              <th>Points</th>
          </tr>
          {% for result in race[0]["Results"]%}
          <tr>
              <td>{{result["position"]}}</td>
              <td>{{result["Driver"]["givenName"]}} <b>{{result["Driver"]["familyName"]}}</b></td>
              <td>{{result["Constructor"]["name"]}}</td>
              {% if result["positionText"] == "R" %}
                <td>Retired on lap {{result["laps"]}}</td>
              {% elif result["status"] == "Finished" %}
                <td>{{result["Time"]["time"]}}</td>
              {% else %}
                <td>{{result["status"]}}</td>
              {% endif %}
              {% if result["laps"] == "0" %}
                <td>--:--.---</td>
              {% elif race[0]["season"] | int < 2007 %}
                <td>--:--.---</td>
              {% elif result["FastestLap"]["rank"] == "1" %}
                <td><b>{{result["FastestLap"]["Time"]["time"]}}</b></td>
              {% else %}
                <td>{{result["FastestLap"]["Time"]["time"]}}</td>
              {% endif %}
              <td>{{result["grid"]}}</td>
              <td>{{result["points"]}}</td>
          </tr>
          {% endfor %}
      </table>
  {% endfor %}
</body>
</html>